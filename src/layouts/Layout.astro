---
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/curriculum.png" />
    <meta name="generator" content={Astro.generator} />
    <title>Camilo Portfolio</title>
  </head>
  <body class="min-h-screen flex flex-col text-gray-900 dark:text-white relative overflow-x-hidden">
    <!-- Fondo animado de ondas -->
    <div class="fixed inset-0 -z-10 overflow-hidden">
      <!-- Gradiente base -->
      <div class="absolute inset-0 bg-gradient-to-b from-gray-100 to-white dark:from-gray-900 dark:to-gray-950"></div>

      <!-- Ondas animadas -->
      <div class="waves-container">
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
          </defs>
          <g class="parallax">
            <use xlink:href="#gentle-wave" x="48" y="0" class="wave wave1" />
            <use xlink:href="#gentle-wave" x="48" y="3" class="wave wave2" />
            <use xlink:href="#gentle-wave" x="48" y="5" class="wave wave3" />
            <use xlink:href="#gentle-wave" x="48" y="7" class="wave wave4" />
          </g>
        </svg>
      </div>

      <!-- Partículas flotantes adicionales -->
      <div class="floating-particles">
        <div class="particle particle-1"></div>
        <div class="particle particle-2"></div>
        <div class="particle particle-3"></div>
        <div class="particle particle-4"></div>
        <div class="particle particle-5"></div>
        <div class="particle particle-6"></div>
      </div>
    </div>

    <!-- Contenido principal -->
    <div class="relative z-10">
      <Header />
      <slot />
      <Footer />
    </div>
  </body>
</html>

<style>
  /* Contenedor de ondas */
  .waves-container {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .waves {
    position: relative;
    width: 100%;
    height: 100%;
    margin-bottom: -7px;
    min-height: 100vh;
  }

  /* Animación de ondas paralelas */
  .parallax > use {
    animation: move-forever 25s cubic-bezier(.55,.5,.45,.5) infinite;
  }

  .parallax > use:nth-child(1) {
    animation-delay: -2s;
    animation-duration: 7s;
    fill: rgba(14, 165, 233, 0.05); /* sky-500 */
  }

  .parallax > use:nth-child(2) {
    animation-delay: -3s;
    animation-duration: 10s;
    fill: rgba(14, 165, 233, 0.08);
  }

  .parallax > use:nth-child(3) {
    animation-delay: -4s;
    animation-duration: 13s;
    fill: rgba(14, 165, 233, 0.06);
  }

  .parallax > use:nth-child(4) {
    animation-delay: -5s;
    animation-duration: 20s;
    fill: rgba(14, 165, 233, 0.03);
  }

  @keyframes move-forever {
    0% {
      transform: translate3d(-90px, 0, 0);
    }
    100% {
      transform: translate3d(85px, 0, 0);
    }
  }

  /* Dark mode - ondas más visibles */
  :global(.dark) .parallax > use:nth-child(1) {
    fill: rgba(14, 165, 233, 0.08);
  }

  :global(.dark) .parallax > use:nth-child(2) {
    fill: rgba(14, 165, 233, 0.12);
  }

  :global(.dark) .parallax > use:nth-child(3) {
    fill: rgba(14, 165, 233, 0.10);
  }

  :global(.dark) .parallax > use:nth-child(4) {
    fill: rgba(14, 165, 233, 0.05);
  }

  /* Partículas flotantes */
  .floating-particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
  }

  .particle {
    position: absolute;
    border-radius: 50%;
    background: rgba(14, 165, 233, 0.3);
    opacity: 0;
    animation: float-up 15s infinite ease-in-out;
  }

  .particle-1 {
    width: 4px;
    height: 4px;
    left: 10%;
    animation-delay: 0s;
    animation-duration: 12s;
  }

  .particle-2 {
    width: 6px;
    height: 6px;
    left: 25%;
    animation-delay: 2s;
    animation-duration: 15s;
  }

  .particle-3 {
    width: 3px;
    height: 3px;
    left: 50%;
    animation-delay: 4s;
    animation-duration: 10s;
  }

  .particle-4 {
    width: 5px;
    height: 5px;
    left: 70%;
    animation-delay: 1s;
    animation-duration: 13s;
  }

  .particle-5 {
    width: 4px;
    height: 4px;
    left: 85%;
    animation-delay: 3s;
    animation-duration: 11s;
  }

  .particle-6 {
    width: 3px;
    height: 3px;
    left: 40%;
    animation-delay: 5s;
    animation-duration: 14s;
  }

  @keyframes float-up {
    0% {
      bottom: -10%;
      opacity: 0;
      transform: translateX(0) rotate(0deg);
    }
    25% {
      opacity: 0.3;
      transform: translateX(20px) rotate(90deg);
    }
    50% {
      opacity: 0.5;
      transform: translateX(-20px) rotate(180deg);
    }
    75% {
      opacity: 0.3;
      transform: translateX(20px) rotate(270deg);
    }
    100% {
      bottom: 110%;
      opacity: 0;
      transform: translateX(0) rotate(360deg);
    }
  }

  /* Optimización de rendimiento */
  .waves-container,
  .floating-particles {
    will-change: transform;
  }

  /* Responsive - reducir animaciones en móvil */
  @media (max-width: 768px) {
    .parallax > use:nth-child(1) {
      animation-duration: 10s;
    }
    .parallax > use:nth-child(2) {
      animation-duration: 13s;
    }
    .parallax > use:nth-child(3) {
      animation-duration: 16s;
    }
    .parallax > use:nth-child(4) {
      animation-duration: 23s;
    }

    .particle {
      animation-duration: 18s !important;
    }
  }

  /* Reducir movimiento para usuarios con preferencias de accesibilidad */
  @media (prefers-reduced-motion: reduce) {
    .parallax > use,
    .particle {
      animation: none;
    }
  }
</style>
